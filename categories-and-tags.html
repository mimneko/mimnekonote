---
layout: default
title: カテゴリ＆タグ
---

<article>
    
    <div class="article-header">
        <h1 id="article-title">{{ page.title }}</h1>
    </div>
	
	<div class="article-body">
		
		<h2>カテゴリ一覧</h2>
		<div class="folder-tree">
			<ul>
				{% for item in site.nav %}
				<li>
					<details open>
						<summary><a href="{{ site.baseurl }}{{ item.url }}">{{ item.name }}</a></summary>
						<ul>
							{% for child in item.children %}
							<li>
								<details open>
									<summary><a href="{{ site.baseurl }}{{ child.url }}">{{ child.name }}</a></summary>
								</details>
							</li>
							{% endfor %}
						</ul>
					</details>
				</li>
				{% endfor %}
			</ul>
		</div>

		<h2>タグ一覧（該当記事があるもののみ）</h2>
		<ul>
			{% assign tags = site.data.slugs %}
			{% for tag in tags %}
				{% assign tag_name = tag[1].name %}
				{% assign tag_slug = tag[0] %}
				
				<!-- 該当タグの記事をフィルタリング -->
				{% assign tag_posts = site.pages | where_exp: "post", "post.tags contains tag_slug" %}
				
				<!-- 該当タグの記事数をカウント -->
				{% assign post_count = tag_posts | size %}
				
				{% if post_count > 0 %}
				<li>
					<a href="{{ site.baseurl }}/tags/{{ tag_slug }}">
						{{ tag_name }} <span class="article-count">{{ post_count }}</span>件
					</a>
				</li>
				{% endif %}
			{% endfor %}
		</ul>
		
		<h2>タグ一覧（すべて）</h2>
		<ul>
            {% assign tags = site.data.slugs %}
            {% for tag in tags %}
                <li><a href="{{ site.baseurl }}/tags/{{ tag[0] }}">{{ tag[1].name }}</a></li>
            {% endfor %}
        </ul>

	</div>
</article>
